<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ãƒ‰ãƒ¼ãƒŠãƒƒãƒ„ã«ã¯ãªãœç©´ãŒã‚ã„ã¦ã„ã‚‹ã®ã‹</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background: #f4f6fa;
      color: #222;
      max-width: 900px;
      margin: 40px auto;
      padding: 20px;
      line-height: 1.8;
    }
    h1 { text-align: center; margin-bottom: 1.5em; }
    h2 { margin-top: 2em; border-bottom: 2px solid #ccc; padding-bottom: 4px; }
    a { text-decoration: none; color: #0070f3; }
    a:hover { text-decoration: underline; }
    .section-box {
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 10px;
      padding: 1.2em;
      margin-top: 2em;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }

    /* ã‚°ãƒ©ãƒ•ãƒ†ãƒ¼ãƒ–ãƒ« */
    .styled-table {
      border-collapse: collapse;
      width: 100%;
      margin: 20px 0;
      font-size: 1em;
      min-width: 400px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
    }
    .styled-table thead tr {
      background-color: #009879;
      color: #fff;
      text-align: left;
    }
    .styled-table th, .styled-table td {
      padding: 12px 15px;
      border: 1px solid #ddd;
    }
    .styled-table tbody tr:nth-of-type(even) { background-color: #f3f3f3; }

    /* ç¿»è¨³ã‚«ãƒ¼ãƒ‰ */
    .translation-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 12px;
      margin-top: 1em;
    }
    .translation-grid a {
      display: block;
      padding: 12px;
      border: 1px solid #ccc;
      border-radius: 8px;
      background: #fafafa;
      text-align: center;
      transition: all 0.2s ease;
    }
    .translation-grid a:hover {
      background: #e9f5ff;
      border-color: #0070f3;
    }

    /* æ”¹è¡Œã‚’åæ˜  */
    p {
      white-space: pre-line;
    }

    footer {
      text-align: center;
      color: #666;
      margin-top: 3em;
      font-size: 0.9em;
    }
  </style>
</head>
<body>

<h1>è©¦ä½œãƒ›ãƒƒãƒˆã‚±ãƒ¼ã‚­ç¬¬ä¸€å·</h1>

<!-- ğŸŸ¦ ã‚°ãƒ©ãƒ•ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
<div class="section-box">
  <h2>ğŸ“Š ã‚°ãƒ©ãƒ• / Graph Links</h2>
  <table class="styled-table">
    <thead>
      <tr>
        <th>åå‰</th>
        <th>æ€ªã—ã„ã‚°ãƒ©ãƒ• (Ja ver)</th>
        <th>potato graph (En ver)</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Lbol Bubble Charts</td>
        <td><a href="card_effectiveness_reports/report.html?lang=ja">ãƒªãƒ³ã‚¯</a></td>
        <td><a href="card_effectiveness_reports/report.html?lang=en">Link</a></td>
      </tr>
    </tbody>
  </table>
</div>

<!-- ğŸ•’ æ›´æ–°å±¥æ­´ -->
<div class="section-box">
  <h2>ğŸ•’ ã‚°ãƒ©ãƒ•æ›´æ–°å±¥æ­´ / Graph Change Log</h2>
  <details>
    <summary>ğŸ“˜ æ—¥æœ¬èª</summary>
    <ul>
      <li><strong>2025-11-07:</strong>å‚¾å‘å€¤ã®è¨ˆç®—æ–¹æ³•ã‚’ã‚ãšã‹ã«å¤‰æ›´(ä»¥å‰ã‚ˆã‚Šæ¥µç«¯ãªå¤‰å‹•ã¯æ¸›ã‚‹ã¨æ€ã„ã¾ã™)</li>
      <li><strong>2025-11-05:</strong> ã‚«ãƒ¼ãƒ‰ã®é›†è¨ˆæ–¹æ³•ã‚’ã‚½ãƒ•ãƒˆãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã«å¤‰æ›´ã€‚(ä»Šã¾ã§ã¯å„çŠ¶æ³ã«ãŠã„ã¦è¦å®šå›æ•°ã‚’æº€ãŸã—ã¦ã„ã¦5%ä»¥ä¸‹ã¯é™¤å¤–ã•ã‚Œã¦ã„ãŸãŸã‚5%å¢ƒç•Œä»˜è¿‘ã®å¤‰å‹•ãŒä¸ãˆã‚‹å½±éŸ¿ãŒå¤§ãã‹ã£ãŸã§ã™ãŒã€ä»Šã¯å½±éŸ¿ã¯æœ€ä½é™ã«ãªã‚Šã¾ã—ãŸã€‚</li>
      <li><strong>2025-11-03:</strong> åˆ¶é™ä»˜ãã§å…¨ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’å¯¾è±¡ã«ã€‚ã‚«ãƒ¼ãƒ‰ã‚¿ãƒ–ã«ã‚µãƒ³ãƒ—ãƒ«ãƒ©ãƒ³ã‚’è¿½åŠ ã€‚</li>
      <li><strong>2025-11-01:</strong> 1.8.0ã«å¯¾å¿œã€‚é›†è¨ˆæ–¹æ³•ã‚’å¤‰æ›´ã€‚å…±èµ·ã‚«ãƒ¼ãƒ‰ã«ãã®ã‚«ãƒ¼ãƒ‰ã ã‘çªå‡ºã—ã¦é«˜ã„ã‚‚ã®ã¯â˜…ã‚’è¿½åŠ ã€‚</li>
      <li><strong>2025-10-13:</strong> ã‚«ãƒ¼ãƒ‰ä½¿ç”¨ç‡ã®ã‚¿ãƒ–ã‚’è¿½åŠ ã€‚</li>
      <li><strong>2025-10-05:</strong> åˆç‰ˆãƒªãƒªãƒ¼ã‚¹ã€‚</li>
    </ul>
  </details>
  <details>
    <summary>ğŸ“— English</summary>
    <ul>
      <li><strong>2025-11-07:</strong> Made a slight adjustment to the trend calculation method (this should reduce extreme fluctuations compared to before).</li>
      <li><strong>2025-11-05:</strong> Changed the card aggregation method to a soft filter. (Previously, cards were excluded if they appeared in less than 5% of cases that met the required count for each situation, which caused large fluctuations near the 5% threshold. Now, the impact of such fluctuations has been minimized.)</li>
      <li><strong>2025-11-03:</strong> Now includes all players with some restrictions. Added sample runs to the card tab.</li>
      <li><strong>2025-11-01:</strong> Updated for version 1.8.0. Changed the aggregation method. Added a â˜… mark to highlight standout co-occurring cards.</li>
      <li><strong>2025-10-13:</strong> Added a card usage tab.</li>
      <li><strong>2025-10-05:</strong> Initial release.</li>
    </ul>
  </details>
</div>

<!-- ğŸ“– æ¦‚è¦ -->
<div class="section-box">
  <h2>ğŸ“– æ¦‚è¦ / Overview</h2>
  <details>
    <summary>ğŸ“˜ æ—¥æœ¬èª</summary>
    <p>
æœ¬ã‚°ãƒ©ãƒ•ã¯ã€ãƒ­ãƒ¼ã‚°ãƒ©ã‚¤ã‚¯ã‚«ãƒ¼ãƒ‰ã‚²ãƒ¼ãƒ  <strong>ã€æ±æ–¹å…‰è€€å¤œ (LBoL)ã€</strong> ã«ãŠã‘ã‚‹
å„ã‚«ãƒ¼ãƒ‰ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚„å…±èµ·é–¢ä¿‚ã‚’å¯è¦–åŒ–ã—ãŸã‚‚ã®ã§ã™ã€‚  
ä½¿ç”¨ç‡ãƒ»åŒæ™‚æ¡ç”¨å‚¾å‘ãƒ»ãƒ«ãƒ¼ãƒˆé¸æŠãªã©åˆ†æã—ã¦ã„ã¾ã™ã€‚
    </p>
  </details>
  <details>
    <summary>ğŸ“— English</summary>
    <p>
This graph visualizes the performance and co-occurrence relationships of each card in the roguelike deck-building game <strong>â€œTouhou Lost Branch of Legend (LBoL)â€</strong>.  
It analyzes factors such as usage rate, simultaneous adoption tendencies, route selection, and so on.
    </p>
  </details>
</div>

<!-- ğŸ§® é›†è¨ˆæ–¹æ³• -->
<div class="section-box">
  <h2>ğŸ§® é›†è¨ˆæ–¹æ³• / Methodology</h2>

  <details>
    <summary>ğŸ“˜ æ—¥æœ¬èª</summary>
    <p><strong>1. ãƒ­ã‚°ã®åé›†ã¨ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°</strong></p>
    <p>
      å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ãƒ­ã‚°ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰æœ€æ–°ã®ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã‚’è‡ªå‹•ã§åé›†ã—ã¾ã™ã€‚  
      ãã®éš›ã€ä»¥ä¸‹ã®æ¡ä»¶ã§åˆ†æã«é©ã—ãŸãƒ­ã‚°ã ã‘ã‚’å³é¸ã—ã¦ã„ã¾ã™ã€‚
    </p>
    <ul>
      <li>Lunatic7 çœŸã‚¨ãƒ³ãƒ‰ã‚¯ãƒªã‚¢ã®ãƒ­ã‚°ã®ã¿ã‚’ä½¿ç”¨</li>
      <li>ä¸€éƒ¨MODã‚’é™¤å¤–ï¼ˆã‚²ãƒ¼ãƒ ãƒãƒ©ãƒ³ã‚¹ã«å½±éŸ¿ã‚’ä¸ãˆã‚‹MODãŒä½¿ç”¨ã•ã‚ŒãŸãƒ­ã‚°ã¯é™¤å¤–ï¼‰</li>
      <li>ä¸æ­£ãŒç–‘ã‚ã‚Œã‚‹ãƒ­ã‚°ã®é™¤å¤–ï¼ˆç•°å¸¸ãªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰å‹•ãƒ»ä¸é€£ç¶šãªãƒ‡ãƒ¼ã‚¿ãªã©ï¼‰</li>
    </ul>

    <p><strong>2. ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã”ã¨ã®ãƒ­ã‚°æŠ½å‡ºï¼ˆã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ï¼‰</strong></p>
    <p>
      ç‰¹å®šã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ãƒ­ã‚°ãŒå¤šã™ãã‚‹ã¨ã€ãã®äººã®ãƒ—ãƒ¬ã‚¤ã‚¹ã‚¿ã‚¤ãƒ«ãŒå…¨ä½“ã«å¤§ããå½±éŸ¿ã—ã¦ã—ã¾ã„ã¾ã™ã€‚  
      ã“ã‚Œã‚’é˜²ããŸã‚ã€å„ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‹ã‚‰æŠ½å‡ºã™ã‚‹ãƒ­ã‚°æ•°ã«ä¸Šé™ã‚’è¨­ã‘ã¦ã„ã¾ã™ã€‚
    </p>
    <p>
      ãƒ­ã‚°æ•°ãŒä¸Šé™ã«æº€ãŸãªã„ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ã¤ã„ã¦ã¯åˆ¶é™ã‚’é©ç”¨ã›ãšã€ã™ã¹ã¦ã®æœ‰åŠ¹ãƒ­ã‚°ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚  
      ä¸Šé™ã‚’è¶…ãˆã‚‹ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«å¯¾ã—ã¦ã¯ã€<strong>åˆ†ä½åŠ é‡ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°</strong>ã«ã‚ˆã£ã¦ãƒ­ã‚°ã‚’é¸ã³å‡ºã—ã¾ã™ã€‚
    </p>
    <ol>
      <li>ãƒ­ã‚°ã‚’æ–°æ—§4ã‚°ãƒ«ãƒ¼ãƒ—ã«åˆ†å‰²ï¼ˆæœ€å¤ãƒ»ã‚„ã‚„å¤ã„ãƒ»ã‚„ã‚„æ–°ã—ã„ãƒ»æœ€æ–°ã®25%ãšã¤ï¼‰</li>
      <li>æ–°ã—ã„ã‚°ãƒ«ãƒ¼ãƒ—ã‹ã‚‰å¤šã‚ã«ã€å¤ã„ã‚°ãƒ«ãƒ¼ãƒ—ã‹ã‚‰å°‘ãªã‚ã«ãƒ©ãƒ³ãƒ€ãƒ æŠ½å‡º</li>
    </ol>

    <p><strong>3. ã‚«ãƒ¼ãƒ‰æ€§èƒ½ã®è¨ˆç®—</strong></p>
    <p>å„ã‚«ãƒ¼ãƒ‰ãŒæˆ¦é—˜ã«ä¸ãˆã‚‹å½±éŸ¿ã‚’ã€ŒçŠ¶æ³åˆ¥ã€ã«è©•ä¾¡ã—ã¾ã™ã€‚</p>
    <ul>
      <li><strong>çŠ¶æ³ã®å®šç¾©:</strong> Actã”ã¨ã®é€²è¡Œåº¦ã‚„æ•µç¨®åˆ¥ï¼ˆä¾‹ï¼šAct1ã®é›‘é­šæˆ¦ã€Act2ã®ã‚¨ãƒªãƒ¼ãƒˆæˆ¦ï¼‰ã§åˆ†é¡</li>
      <li><strong>æ€§èƒ½ã®ç®—å‡º:</strong> ã‚«ãƒ¼ãƒ‰ã‚’æ‰€æŒã—ã¦ã„ãŸå ´åˆã¨æ‰€æŒã—ã¦ã„ãªã‹ã£ãŸå ´åˆã®å¹³å‡ã‚¯ãƒªã‚¢ã‚¿ãƒ¼ãƒ³ãƒ»HPãƒ­ã‚¹ã‚’æ¯”è¼ƒã—ã€è²¢çŒ®åº¦ã‚’è¨ˆç®—</li>
      <li><strong>ä¿¡é ¼æ€§ã®æ‹…ä¿:</strong>
        <ul>
          <li>æˆ¦é—˜å›æ•°ãŒä¸€å®šæ•°ä»¥ä¸Šï¼ˆä¾‹ï¼šé›‘é­šæˆ¦20å›ã€ãƒœã‚¹æˆ¦10å›ï¼‰ã®ã‚«ãƒ¼ãƒ‰ã®ã¿è©•ä¾¡</li>
          <li>ãƒ™ã‚¤ã‚ºå¹³å‡ã«ã‚ˆã‚Šã€ã‚µãƒ³ãƒ—ãƒ«æ•°ã®å°‘ãªã„ã‚«ãƒ¼ãƒ‰ã®æ¥µç«¯ãªå€¤ã‚’è£œæ­£</li>
        </ul>
      </li>
    </ul>

    <p><strong>4. ç·åˆè©•ä¾¡ã¨ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã®ä½œæˆ</strong></p>
    <p>
      çŠ¶æ³åˆ¥ã«è¨ˆç®—ã•ã‚ŒãŸæ€§èƒ½ã‚¹ã‚³ã‚¢ã‚’ä»¥ä¸‹ã®æŒ‡æ¨™ã§ç·åˆè©•ä¾¡ã—ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«è¡¨ç¤ºã—ã¾ã™ã€‚
    </p>
    <ul>
      <li><strong>ç·åˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼ˆãƒãƒ–ãƒ«ã‚°ãƒ©ãƒ•ï¼‰:</strong>  
        å„çŠ¶æ³ã®æ€§èƒ½ã‚’ã€Œå‹•çš„é‡ã¿ä»˜ã‘ã€ã§åŠ é‡å¹³å‡ã€‚æ¡ç”¨ç‡ã‚„æˆ¦é—˜å›æ•°ã®åŸºæº–ã‚’æº€ãŸã™ã‚«ãƒ¼ãƒ‰ã‚’è¡¨ç¤ºã€‚  
        ä½æ¡ç”¨ã‚«ãƒ¼ãƒ‰ã§ã‚‚è©•ä¾¡ã«å‚åŠ ã§ãã‚‹ã‚ˆã†ã€<strong>ã‚½ãƒ•ãƒˆãƒ•ã‚£ãƒ«ã‚¿ãƒ¼</strong>ã‚’å°å…¥ã—ã€ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã®å®‰å®šæ€§ã‚’å‘ä¸Šã€‚
      </li>
      <li><strong>Actåˆ¥ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹:</strong> å„Actã§ç‰¹ã«å¼·åŠ›ãªã‚«ãƒ¼ãƒ‰ã‚’ãƒ©ãƒ³ã‚­ãƒ³ã‚°å½¢å¼ã§è¡¨ç¤ºã€‚</li>
      <li><strong>å‚¾å‘å€¤ï¼ˆä¸ŠæŒ¯ã‚Œåº¦ï¼‰:</strong> ã‚«ãƒ¼ãƒ‰ã®å®‰å®šæ€§ãƒ»ãƒ ãƒ©ã‚’ç¤ºã™æŒ‡æ¨™ã€‚
        <ul>
          <li>ãƒ—ãƒ©ã‚¹ï¼ˆä¸ŠæŒ¯ã‚Œå‹ï¼‰: ç‰¹å®šçŠ¶æ³ã§çˆ†ç™ºçš„ã«å¼·ã„ã€Œãƒ­ãƒãƒ³ç ²ã€å‹</li>
          <li>0ä»˜è¿‘ï¼ˆå®‰å®šå‹ï¼‰: ã©ã®çŠ¶æ³ã§ã‚‚å®‰å®šã—ãŸæ€§èƒ½ã‚’ç™ºæ®</li>
          <li>ãƒã‚¤ãƒŠã‚¹ï¼ˆä¸‹æŒ¯ã‚Œå‹ï¼‰: ç‰¹å®šçŠ¶æ³ã§è¶³ã‚’å¼•ã£å¼µã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã‚¿ã‚¤ãƒ—</li>
        </ul>
      </li>
      <li><strong>æ³¨ç›®åº¦ã‚¹ã‚³ã‚¢:</strong> ã€Œæ¡ç”¨ç‡ã€ã€Œæ€§èƒ½ã€ã€Œãƒã‚¤ãƒ©ã‚¤ãƒˆå›æ•°ã€ã‚’ç·åˆè©•ä¾¡ã—ã€æ³¨ç›®ã™ã¹ãã‚«ãƒ¼ãƒ‰ã‚’é¸å‡ºã€‚</li>
    </ul>
  </details>

  <details>
    <summary>ğŸ“— English</summary>
    <p><strong>1. Log Collection and Filtering</strong></p>
    <p>
      The system automatically collects the latest public log data from the repository.  
      Only logs suitable for analysis are selected under the following conditions:
    </p>
    <ul>
      <li>Only logs from Lunatic7 True Ending clears are used.</li>
      <li>Logs involving balance-altering mods are excluded.</li>
      <li>Logs suspected of cheating (abnormal stats, data discontinuity, etc.) are automatically filtered out.</li>
    </ul>

    <p><strong>2. Player Log Sampling</strong></p>
    <p>
      If one player contributes too many logs, their playstyle could dominate the results.  
      To prevent this, a limit is imposed on the number of logs sampled per player.
    </p>
    <p>
      Players below the limit are unaffected â€” all their valid logs are used.  
      For players exceeding the limit, logs are selected using <strong>quantile-weighted sampling</strong>:
    </p>
    <ol>
      <li>Divide the playerâ€™s logs into four chronological groups: oldest 25%, slightly old 25%, slightly new 25%, newest 25%.</li>
      <li>Sample more logs from newer groups and fewer from older ones, randomly within each group.</li>
    </ol>


    <p><strong>3. Card Performance Evaluation</strong></p>
    <p>Each cardâ€™s contribution to battle outcomes is evaluated by context.</p>
    <ul>
      <li><strong>Context Definition:</strong> Categorized by game progress and enemy type (e.g., Act 1 normal battles, Act 2 elite battles).</li>
      <li><strong>Performance Calculation:</strong> Compares average clear turns and HP loss with and without the card, measuring its contribution.</li>
      <li><strong>Reliability Measures:</strong>
        <ul>
          <li>Only cards used in a sufficient number of battles (e.g., 20 normal, 10 boss) are evaluated.</li>
          <li>Bayesian averaging corrects extreme values caused by low sample counts.</li>
        </ul>
      </li>
    </ul>


    <p><strong>4. Overall Rating and Ranking</strong></p>
    <p>
      Context-based performance scores are combined into comprehensive indicators displayed on the dashboard:
    </p>
    <ul>
      <li><strong>Overall Performance (Bubble Chart):</strong>  
        Weighted average using <strong>dynamic weighting</strong> across all contexts.  
        A <strong>soft filter</strong> smooths influence from low-adoption cards, stabilizing the rankings.
      </li>
      <li><strong>Performance by Act:</strong> Highlights cards that perform exceptionally well in specific Acts.</li>
      <li><strong>Variance Index (Swing Potential):</strong> Shows how consistent or volatile a cardâ€™s performance is:
        <ul>
          <li><strong>Positive (High-Variance):</strong> Average performance overall, but explosive in certain combos or contexts.</li>
          <li><strong>Near Zero (Stable):</strong> Reliable cards that perform consistently under most conditions.</li>
          <li><strong>Negative (Low-Variance):</strong> Generally stable but may hinder performance in specific cases.</li>
        </ul>
      </li>
      <li><strong>Attention Score:</strong> A composite indicator combining adoption rate, performance, and highlight frequency to identify noteworthy cards.</li>
    </ul>
    <p>

  </details>
</div>



<footer>
  Â© 2025 nfwp.github.io
</footer>
</body>
</html>